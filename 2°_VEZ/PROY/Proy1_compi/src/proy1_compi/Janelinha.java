/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package proy1_compi;


import java.awt.Color;
import java.awt.Desktop;
import java.awt.Dimension;
import java.awt.Graphics2D;
import java.awt.RenderingHints;
import java.awt.image.*;
import java.io.*;
import java.net.URL;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JTextPane;
import proy1_compi.Paint.NodoP;
/**
 *
 * @author andychava
 */
public class Janelinha extends javax.swing.JFrame {

    /**
     * Creates new form Janelinha
     */
    public Janelinha() {
        initComponents();
        jPanel5.setVisible(false);
    }

    Tudo tudo = new Tudo();
    ArrayList tudos = new ArrayList();
    ArrayList tudos1 = new ArrayList();
    ArrayList tudos2= new ArrayList();
    ArrayList tudos3= new ArrayList();
    String tamanio;
    String nombre;
   
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jButton2 = new javax.swing.JButton();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTextArea1 = new javax.swing.JTextArea();
        jPanel1 = new javax.swing.JPanel();
        pane1 = new javax.swing.JPanel();
        pane2 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        jComboBox1 = new javax.swing.JComboBox();
        jButton1 = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        jTextField1 = new javax.swing.JTextField();
        jButton3 = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTextPane1 = new javax.swing.JTextPane();
        jLabel3 = new javax.swing.JLabel();
        jButton4 = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jRadioButton4 = new javax.swing.JRadioButton();
        jRadioButton5 = new javax.swing.JRadioButton();
        jRadioButton6 = new javax.swing.JRadioButton();
        jPanel2 = new javax.swing.JPanel();
        jRadioButton1 = new javax.swing.JRadioButton();
        jRadioButton2 = new javax.swing.JRadioButton();
        jRadioButton3 = new javax.swing.JRadioButton();
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenu1 = new javax.swing.JMenu();
        New = new javax.swing.JMenuItem();
        Open = new javax.swing.JMenuItem();
        Save = new javax.swing.JMenuItem();
        SaveAs = new javax.swing.JMenuItem();
        Exit = new javax.swing.JMenuItem();
        jMenu2 = new javax.swing.JMenu();
        jMenuItem1 = new javax.swing.JMenuItem();
        erros = new javax.swing.JMenuItem();
        jMenu3 = new javax.swing.JMenu();
        jMenuItem2 = new javax.swing.JMenuItem();
        MadeImage = new javax.swing.JMenuItem();
        jMenuItem3 = new javax.swing.JMenuItem();
        jMenu4 = new javax.swing.JMenu();
        MT = new javax.swing.JMenuItem();
        MU = new javax.swing.JMenuItem();
        ABout = new javax.swing.JMenuItem();

        jButton2.setText("jButton2");

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Paint&Draw");

        jTextArea1.setColumns(20);
        jTextArea1.setRows(5);
        jScrollPane1.setViewportView(jTextArea1);

        jTabbedPane1.addTab("Archivo", jScrollPane1);

        jPanel1.setAutoscrolls(true);

        pane1.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        pane1.setAutoscrolls(true);

        javax.swing.GroupLayout pane1Layout = new javax.swing.GroupLayout(pane1);
        pane1.setLayout(pane1Layout);
        pane1Layout.setHorizontalGroup(
            pane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 405, Short.MAX_VALUE)
        );
        pane1Layout.setVerticalGroup(
            pane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 366, Short.MAX_VALUE)
        );

        pane2.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Colores", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Architects Daughter", 1, 12))); // NOI18N
        pane2.setAutoscrolls(true);

        javax.swing.GroupLayout pane2Layout = new javax.swing.GroupLayout(pane2);
        pane2.setLayout(pane2Layout);
        pane2Layout.setHorizontalGroup(
            pane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 119, Short.MAX_VALUE)
        );
        pane2Layout.setVerticalGroup(
            pane2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        jLabel1.setFont(new java.awt.Font("Architects Daughter", 1, 12)); // NOI18N
        jLabel1.setText("Lienzo");

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Seleccion", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Architects Daughter", 1, 10))); // NOI18N

        jComboBox1.setFont(new java.awt.Font("Architects Daughter", 1, 12)); // NOI18N
        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Escenarios" }));

        jButton1.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jButton1.setText("Ver");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap(20, Short.MAX_VALUE)
                .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(30, 30, 30))
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(56, 56, 56)
                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 55, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(6, 6, 6))
        );

        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Entrada", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Architects Daughter", 1, 10))); // NOI18N

        jButton3.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jButton3.setText("Pintar");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jScrollPane2.setViewportView(jTextPane1);

        jLabel3.setFont(new java.awt.Font("Architects Daughter", 0, 10)); // NOI18N
        jLabel3.setText("Historial");

        jButton4.setFont(new java.awt.Font("Architects Daughter", 0, 10)); // NOI18N
        jButton4.setText("Actualizar");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2)
                    .addComponent(jTextField1)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jButton4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton3))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 16, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton4, javax.swing.GroupLayout.PREFERRED_SIZE, 13, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 12, Short.MAX_VALUE)
                .addComponent(jLabel3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 245, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(39, 39, 39))
        );

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(null, ".ext", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Architects Daughter", 1, 10))); // NOI18N

        jRadioButton4.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jRadioButton4.setText("PNG");

        jRadioButton5.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jRadioButton5.setText("JPG");

        jRadioButton6.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jRadioButton6.setText("GIF");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jRadioButton4)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jRadioButton5)
                .addGap(18, 18, 18)
                .addComponent(jRadioButton6)
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jRadioButton4)
                    .addComponent(jRadioButton5)
                    .addComponent(jRadioButton6))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createTitledBorder(""), "Size", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Architects Daughter", 1, 10))); // NOI18N

        jRadioButton1.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jRadioButton1.setText("P");

        jRadioButton2.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jRadioButton2.setText("N");

        jRadioButton3.setFont(new java.awt.Font("Architects Daughter", 1, 10)); // NOI18N
        jRadioButton3.setText("G");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jRadioButton1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 9, Short.MAX_VALUE)
                .addComponent(jRadioButton2)
                .addGap(18, 18, 18)
                .addComponent(jRadioButton3)
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jRadioButton1)
                    .addComponent(jRadioButton2)
                    .addComponent(jRadioButton3))
                .addGap(0, 3, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGap(6, 6, 6)
                .addComponent(pane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(pane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 14, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(25, 25, 25))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jLabel1)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(pane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 48, Short.MAX_VALUE)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, 63, Short.MAX_VALUE)))
                            .addComponent(pane2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(20, 20, 20))))
        );

        jTabbedPane1.addTab("Lienzo", jPanel1);

        jMenu1.setText("File");
        jMenu1.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        jMenu1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jMenu1MouseClicked(evt);
            }
        });

        New.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        New.setText("Nuevo");
        New.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                NewActionPerformed(evt);
            }
        });
        jMenu1.add(New);

        Open.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        Open.setText("Abrir");
        Open.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                OpenActionPerformed(evt);
            }
        });
        jMenu1.add(Open);

        Save.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        Save.setText("Guardar");
        Save.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                SaveActionPerformed(evt);
            }
        });
        jMenu1.add(Save);

        SaveAs.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        SaveAs.setText("Guardar como");
        SaveAs.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                SaveAsActionPerformed(evt);
            }
        });
        jMenu1.add(SaveAs);

        Exit.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        Exit.setText("Salir");
        Exit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ExitActionPerformed(evt);
            }
        });
        jMenu1.add(Exit);

        jMenuBar1.add(jMenu1);

        jMenu2.setText("Edit");
        jMenu2.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N

        jMenuItem1.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        jMenuItem1.setText("Analizar");
        jMenuItem1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItem1ActionPerformed(evt);
            }
        });
        jMenu2.add(jMenuItem1);

        erros.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        erros.setText("Errores");
        erros.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                errosActionPerformed(evt);
            }
        });
        jMenu2.add(erros);

        jMenuBar1.add(jMenu2);

        jMenu3.setText("Image");
        jMenu3.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N

        jMenuItem2.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        jMenuItem2.setText("Editar");
        jMenuItem2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItem2ActionPerformed(evt);
            }
        });
        jMenu3.add(jMenuItem2);

        MadeImage.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        MadeImage.setText("Generar Imagen");
        MadeImage.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MadeImageActionPerformed(evt);
            }
        });
        jMenu3.add(MadeImage);

        jMenuItem3.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        jMenuItem3.setText("Ver Imagen");
        jMenuItem3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItem3ActionPerformed(evt);
            }
        });
        jMenu3.add(jMenuItem3);

        jMenuBar1.add(jMenu3);

        jMenu4.setText("Help");
        jMenu4.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N

        MT.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        MT.setText("Manual_Tec");
        MT.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MTActionPerformed(evt);
            }
        });
        jMenu4.add(MT);

        MU.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        MU.setText("Manual_usu");
        MU.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                MUActionPerformed(evt);
            }
        });
        jMenu4.add(MU);

        ABout.setFont(new java.awt.Font("Candara", 0, 12)); // NOI18N
        ABout.setText("Acerca_de..");
        ABout.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ABoutActionPerformed(evt);
            }
        });
        jMenu4.add(ABout);

        jMenuBar1.add(jMenu4);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jTabbedPane1)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void MUActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MUActionPerformed

          String path = "ManualU.pdf";
           tudo.Manual(path , "UserM.html", "_USUARIO");
            File  name = new File("UserM.html");
        try {
                 Desktop.getDesktop().open(name);
                } 
        catch (IOException ex)  
                 {
            Logger.getLogger(Janelinha.class.getName()).log(Level.SEVERE, null, ex);
                  }
        
    }//GEN-LAST:event_MUActionPerformed

    private void SaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_SaveActionPerformed
    tudo.Save(jTextArea1);        // TODO add your handling code here:
    }//GEN-LAST:event_SaveActionPerformed

    private void OpenActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_OpenActionPerformed
    jTextArea1.setText("");
    tudo.Open(jTextArea1);
  // System.out.print( tudo.soNome);
    }//GEN-LAST:event_OpenActionPerformed

    private void ABoutActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ABoutActionPerformed
    About_Me am= new About_Me();
    am.show();// TODO add your handling code here:
    }//GEN-LAST:event_ABoutActionPerformed

    private void NewActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_NewActionPerformed
    jTextArea1.setText("");
    tudo.New(jTextArea1);        // TODO add your handling code here:
    }//GEN-LAST:event_NewActionPerformed

    private void SaveAsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_SaveAsActionPerformed
    tudo.New(jTextArea1);
    }//GEN-LAST:event_SaveAsActionPerformed

    private void MTActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MTActionPerformed
        String path = "ManualT.pdf";
           tudo.Manual(path , "TechnicalM.html", "_TECNICO");
            File  name = new File("TechnicalM.html");
        try {
                 Desktop.getDesktop().open(name);
                } 
        catch (IOException ex)  
                 {
            Logger.getLogger(Janelinha.class.getName()).log(Level.SEVERE, null, ex);
                  }
        // TODO add your handling code here:
    }//GEN-LAST:event_MTActionPerformed

    private void ExitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ExitActionPerformed
    System.exit(0);       // TODO add your handling code here:
    }//GEN-LAST:event_ExitActionPerformed
  
   
    private void errosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_errosActionPerformed
       {
String Reporte= "Errores.html";
FileWriter fw = null;
try {
fw = new FileWriter(Reporte);
BufferedWriter bw = new BufferedWriter(fw);
PrintWriter salArch = new PrintWriter(bw);
salArch.println();

//aqui empezas a escribir el html
salArch.print("<html>");
salArch.print("<head>Errores</head>");
salArch.print("<body>");
//definis tu tabla con cada una de las columnas
salArch.print("<table width='200' border='1'><tr><th scope='col'>Numero</th><th scope='col'>Linea</th><th scope='col'>Columna</th><th scope='col'>Simbolo</th><th scope='col'>Tipo_Error</th></tr>");
int n=0;
//errores,alinea,posicion  son un arrayList del mismo tamano

        for (int i = 0; i<tudos.size(); i++)
        {
            salArch.print("<tr><td>"+(n+1)+"</td><td>"+tudos.get(i)+"</td><td>"+tudos1.get(i)+"</td><td>"+tudos2.get(i)+"</td><td>"+tudos3.get(i)+"</td></tr>");
            n= n+1;

      }

salArch.println("</table><p>&nbsp;</p><p>&nbsp;</p></body></html>");
salArch.close();
                }
                catch (IOException ex) {
}


try {

            File path = new File("Errores.html");
            Desktop.getDesktop().open(path);
        } catch (IOException ex) {
         
        }

}
        
tudos.clear();
tudos1.clear();
tudos2.clear();
tudos3.clear();
       
       
    }//GEN-LAST:event_errosActionPerformed
 
    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed

        proy1_compi.Colores.Yylex.rs().clear();
        proy1_compi.Colores.Yylex.rs2().clear();
        pane2.removeAll();
        pane2.setPreferredSize(new Dimension(146, 446));

        proy1_compi.CUP$parser$actions.CrearLienzo(jComboBox1, pane1, jLabel1, pane2, jRadioButton1, jRadioButton2, jRadioButton3,jRadioButton4,jRadioButton5,jRadioButton6);

        proy1_compi.Colores.Yylex.llamar(jComboBox1);
        proy1_compi.Colores.Yylex.crearColor(jComboBox1, pane2);

        

//   proy1_compi.Colores.Yylex.crearColor(jComboBox1, pane2,BoxCol);

        //   proy1_compi.Colores.Yylex.rss();

        proy1_compi.Paint.Yylex.pintar(proy1_compi.CUP$parser$actions.labe,jComboBox1);
    }//GEN-LAST:event_jButton1ActionPerformed

    private void MadeImageActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_MadeImageActionPerformed
        String nome[] = jLabel1.getText().split(":");

        try {
                    draw(proy1_compi.CUP$parser$actions.labe, proy1_compi.CUP$parser$actions.exte,nome[1],proy1_compi.CUP$parser$actions.tamanio,proy1_compi.CUP$parser$actions.cuadradinhos);
        } catch (IOException ex) {
            Logger.getLogger(Janelinha.class.getName()).log(Level.SEVERE, null, ex);
        }
                
    }//GEN-LAST:event_MadeImageActionPerformed
public void setImage()
{
ImageIcon nomesinho = new ImageIcon (nombre);

String Reporte= "Imagen.html";
FileWriter fw = null;
try {
fw = new FileWriter(Reporte);
BufferedWriter bw = new BufferedWriter(fw);
PrintWriter salArch = new PrintWriter(bw);
salArch.println();

//aqui empezas a escribir el html
salArch.print("<html>");
salArch.print("<head></head>");
salArch.print("<body>");
salArch.print("<img src='"+nomesinho + "'height='"+tamanio+"' width='"+tamanio+"'>" );

salArch.println("</body></html>");
salArch.close();


} catch(Exception ex)
{
}

}
    
    
    
    private void jMenuItem1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItem1ActionPerformed

     if(tudo.soNome.contains(".lnz"))
     {
     lienzos();
     }
     else if(tudo.soNome.contains(".cls"))
     {
     Colores();
     }
      else if(tudo.soNome.contains(".pnt"))
     {
         Painting();
     }
    }//GEN-LAST:event_jMenuItem1ActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
   String comando = jTextField1.getText();
   int ini = comando.indexOf("(");
   int fin = comando.lastIndexOf(")");
   String oprimeiro = comando.substring(ini+1, fin).trim();
   String[]  tudoComando= oprimeiro.split(",");
   String x="";
   String y="";
 // String color=tudoComando[1].trim();
   

   
   if(tudoComando[1].contains("."))
   {
    
      x = tudoComando[1].replace("..", ",..,");
      y= tudoComando[2];
 
   }else if(tudoComando[2].contains(".."))
   {
   
       y =tudoComando[2].replace("..", ",..,");
       x = tudoComando[1];
   }
   else if (tudoComando[1].contains(".")&&tudoComando[2].contains("."))
   {
       x = tudoComando[1].replace("..", ",..,");
       y =tudoComando[2].replace("..", ",..,");
   }
   else
   {
       x = tudoComando[1];
       y=tudoComando[2];
   }
   
   
   jTextPane1.setText(jTextPane1.getText() +"\n"+jTextField1.getText());
   
     pintar2(proy1_compi.CUP$parser$actions.labe, proy1_compi.Colores.Yylex.rs(), proy1_compi.Colores.Yylex.rs2(),tudoComando[0],x,y); 
     
     
     

    }//GEN-LAST:event_jButton3ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed

        //    System.out.println(tudo.nomeArquivo);
read(); // TODO add your handling code here:
        int t = li.size()-2;
         li.set(t, jTextPane1.getText());
 

 writes();
        
       

    }//GEN-LAST:event_jButton4ActionPerformed

    private void jMenuItem2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItem2ActionPerformed
jPanel5.setVisible(true);
jTabbedPane1.setSelectedIndex(1);// TODO add your handling code here:
    }//GEN-LAST:event_jMenuItem2ActionPerformed

    private void jMenu1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jMenu1MouseClicked
jPanel5.setVisible(false);
jTabbedPane1.setSelectedIndex(0);// TODO add your handling code here:
    }//GEN-LAST:event_jMenu1MouseClicked

    private void jMenuItem3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItem3ActionPerformed
    setImage(); 
    try {

            File path = new File("Imagen.html");
            Desktop.getDesktop().open(path);
        } catch (IOException ex) {
         
        }// TODO add your handling code here:
    }//GEN-LAST:event_jMenuItem3ActionPerformed

public static void  pintar2 ( JLabel[][]  matriz,ArrayList co1,ArrayList co,String Color,String x,String y )
{
  
     
              for(int s=0;s<co1.size();s++)
              {
                  
                if(Color.equalsIgnoreCase(co1.get(s).toString()))
                    
                {
                 String colorsito = co.get(s).toString();

                      proy1_compi.Paint.Yylex.pintMatriz(matriz, x, y, colorsito);
                    
                      
                     
                }
                  
              }
  
    }
    
ArrayList li = new ArrayList();

public void read()
{
    li.clear();
 try{
                BufferedReader br = new BufferedReader(new FileReader(tudo.nomeArquivo));
                
                String line= br.readLine();
               
                while (line!= null) 
                {
                   li.add(line);
                  line = br.readLine();
                }
               
          
               
           //    
                 
                 
                
                
            } catch (Exception ex) 
            {
            }
}

public void writes()
{
     try{
            BufferedWriter wr = new BufferedWriter(new FileWriter(tudo.nomeArquivo));
           for(int i=0; i<li.size();i++)
        {
         
         wr.write(li.get(i).toString()+"\n");
              
        }
         
      wr.close();

}catch (Exception ex){ex.printStackTrace();}  
}


   public void draw(JLabel[][] labe,String extension,String nome,String tama,String cuadra) throws IOException
   {
           
           
           
           
            File f = new File(nome+"."+extension);
            f.setWritable(true);
            nombre = nome+"."+extension;
           
            
            if (jRadioButton3.isEnabled())
            {
              int tud = Integer.parseInt(tama) *  Integer.parseInt(cuadra);
               int tam = tud*5;
               
               tamanio = String.valueOf(tam);
               
              BufferedImage bufferedImage   = new BufferedImage(tam,tam, BufferedImage.TYPE_INT_RGB);
            
            Graphics2D g2 = bufferedImage.createGraphics();
            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
            
            for(int x = 0 ; x<labe.length;x++)
            {
                for(int y =0;y<labe.length;y++)
                {
                 int h=    labe[x][y].getHeight();
                 int w =  labe[x][y].getWidth();
                 int xs =  labe[x][y].getX();
                 int ys =  labe[x][y].getY();
                 Color col =labe[x][y].getBackground();
                 g2.setColor(col);
                 g2.fillRect(xs*5, ys*5, w*5, h*5);   
                 
                
               
                }
            }
            
               RenderedImage ri = bufferedImage;
            ImageIO.write(ri,extension, f);
            
            }
            else    if (jRadioButton2.isEnabled())
            {
               int tam = pane1.getHeight();
               tamanio = String.valueOf(tam);
             BufferedImage bufferedImage   = new BufferedImage(tam,tam, BufferedImage.TYPE_INT_RGB);
            
            Graphics2D g2 = bufferedImage.createGraphics();
            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
            
            for(int x = 0 ; x<labe.length;x++)
            {
                for(int y =0;y<labe.length;y++)
                {
                 int h=    labe[x][y].getHeight();
                 int w =  labe[x][y].getWidth();
                 int xs =  labe[x][y].getX();
                 int ys =  labe[x][y].getY();
                 Color col =labe[x][y].getBackground();
                 g2.setColor(col);
                 g2.fillRect(xs, ys, w, h);   
                 
                
               
                }
            }
            
               RenderedImage ri = bufferedImage;
            ImageIO.write(ri,extension, f);
            
            }
             else    if (jRadioButton1.isEnabled())
            {
               int tud = Integer.parseInt(tama) *  Integer.parseInt(cuadra);
               int tam = tud/2;
               tamanio = String.valueOf(tam);
               System.out.println(tam);
             BufferedImage bufferedImage   = new BufferedImage(tam,tam, BufferedImage.TYPE_INT_RGB);
            
            Graphics2D g2 = bufferedImage.createGraphics();
            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);
            
            for(int x = 0 ; x<labe.length;x++)
            {
                for(int y =0;y<labe.length;y++)
                {
                 int h=    labe[x][y].getHeight();
                 int w =  labe[x][y].getWidth();
                 int xs =  labe[x][y].getX();
                 int ys =  labe[x][y].getY();
                 Color col =labe[x][y].getBackground();
                 g2.setColor(col);
                 g2.fillRect(xs/2, ys/2, w/2, h/2);   
                 
                
               
                }
            }
            
               RenderedImage ri = bufferedImage;
            ImageIO.write(ri,extension, f);
            
            }
            
            
                
         
            
            
            
   
   
   }
    
  void lienzos()
  {
          jComboBox1.removeAllItems();
        proy1_compi.Yylex L = new Yylex(new StringReader(jTextArea1.getText()));
        proy1_compi.parser P = new parser(L);
        try {
            P.parse();
        } catch (Exception ex) 
        {
           ex.printStackTrace();
        }
        
        Array(parser.first);
        ErrosL1(L.Linea,L);
        jComboBox1.addItem("Escenarios");
     
proy1_compi.CUP$parser$actions.vertodo(jComboBox1);
  
  }
  void Colores()
  {
  proy1_compi.Colores.Yylex  L1  = new proy1_compi.Colores.Yylex(new StringReader(jTextArea1.getText()));
   proy1_compi.Colores.parser P1= new proy1_compi.Colores.parser(L1);
    try{
    P1.parse();
    } catch(Exception ex)
    {
        ex.printStackTrace();
    }
    
    ArrayC(P1.first, P1);
    ErrosL2(L1.Linea, L1);
  
  }
   void Painting()
   {
   proy1_compi.Paint.Yylex L2 = new proy1_compi.Paint.Yylex(new StringReader(jTextArea1.getText()));
proy1_compi.Paint.parser P2 = new proy1_compi.Paint.parser(L2);
        try {
            P2.parse();}
        catch(Exception ex)
        {
        ex.printStackTrace();
        }
        
        ArrayP(P2.first, P2);
        ErrosL3(L2.Linea, L2);
        
      L2.llamar();
        
        
   
   }
  
    //Errores
 
    public void Array(ArrayList lex)
    {
    for(int p=0; p<lex.size(); p++ )
    {
        tudos.add(lex.get(p));
        tudos1.add(parser.second.get(p));
        tudos2.add(parser.third.get(p));
        tudos3.add(parser.four.get(p));
    }
    }
    public void ArrayC(ArrayList lex, proy1_compi.Colores.parser ps)
    {
    
    for(int p=0; p<lex.size(); p++ )
    {
        tudos.add(lex.get(p));
        tudos1.add(ps.second.get(p));
        tudos2.add(ps.third.get(p));
        tudos3.add(ps.fourth.get(p));
    }
    
    
    }
    
    public void ArrayP(ArrayList lex, proy1_compi.Paint.parser ps)
    {
    
    for(int p=0; p<lex.size(); p++ )
    {
        tudos.add(lex.get(p));
        tudos1.add(ps.second.get(p));
        tudos2.add(ps.third.get(p));
        tudos3.add(ps.fourth.get(p));
    }
    
    
    }
    
    public void ErrosL1(ArrayList one,Yylex L1)
    {
      for(int p=0; p<one.size(); p++ )
    {
        tudos.add(one.get(p));
        tudos1.add(L1.columna.get(p));
        tudos2.add(L1.caracter.get(p));
        tudos3.add(L1.kinds.get(p));
      
    }
    
    
    }
    
    public void ErrosL2(ArrayList one, proy1_compi.Colores.Yylex lx)
    {
      for(int p=0; p<one.size(); p++ )
      {
    
        
        tudos.add(one.get(p));
        tudos1.add(lx.columna.get(p));
        tudos2.add(lx.caracter.get(p));
        tudos3.add(lx.tipos.get(p));
      
    }
    
    }
    
     public void ErrosL3(ArrayList one, proy1_compi.Paint.Yylex lx)
    {
      for(int p=0; p<one.size(); p++ )
      {
    
        
        tudos.add(one.get(p));
        tudos1.add(lx.columna.get(p));
        tudos2.add(lx.caracter.get(p));
        tudos3.add(lx.tipos.get(p));
      
    }
    
    }
    
    
    

    /*
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Janelinha.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Janelinha.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Janelinha.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Janelinha.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Janelinha().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JMenuItem ABout;
    private javax.swing.JMenuItem Exit;
    private javax.swing.JMenuItem MT;
    private javax.swing.JMenuItem MU;
    private javax.swing.JMenuItem MadeImage;
    private javax.swing.JMenuItem New;
    private javax.swing.JMenuItem Open;
    private javax.swing.JMenuItem Save;
    private javax.swing.JMenuItem SaveAs;
    private javax.swing.JMenuItem erros;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenu jMenu2;
    private javax.swing.JMenu jMenu3;
    private javax.swing.JMenu jMenu4;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JMenuItem jMenuItem1;
    private javax.swing.JMenuItem jMenuItem2;
    private javax.swing.JMenuItem jMenuItem3;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JRadioButton jRadioButton1;
    private javax.swing.JRadioButton jRadioButton2;
    private javax.swing.JRadioButton jRadioButton3;
    private javax.swing.JRadioButton jRadioButton4;
    private javax.swing.JRadioButton jRadioButton5;
    private javax.swing.JRadioButton jRadioButton6;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTextArea jTextArea1;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextPane jTextPane1;
    private javax.swing.JPanel pane1;
    private javax.swing.JPanel pane2;
    // End of variables declaration//GEN-END:variables
}
